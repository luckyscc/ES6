<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script>
        var { foo, bar } = { foo: "aaa", bar: "bbb"};
        console.log(foo); // "aaa"
        console.log(bar); // "bbb"
        var { baz } = { foo: "aaa", bar: "bbb" };
        console.log(baz); // undefined

        let obj = { first: 'hello', last: 'world'};
        let { first: f, last: l } = obj;
        console.log(f); // 'hello'
        console.log(l); // 'world'
        

        let a = 1;
        {
            console.log(a); // 1
        }

        var obj1 = {
            p: [
                'Hello',
                { y: 'World' }
            ]
        };
        console.log(obj1.p);
        
        // 嵌套赋值
        let obj2 = {};
        let arr = [];
        ({foo: obj2.prop, bar: arr[0]} = {foo: 123, bar: true});

        console.log(obj2, arr); // {prop: 123}, [true]

        // 对象的解构也可以指定默认值

        var {x = 3} = {};
        console.log(x); // x: 3
        var {x, y = 5} = {x:1} // x: 1, y: 5
        console.log(x, y);
        var {t: y = 3} = {};
        console.log(y); // y: 3
        var {x = 3} = {x: undefined};
        console.log(x);
        var {x = 3} = {x: null};
        console.log(x); // null
        // 默认值生效的条件是， 对象的属性值严格等于undefined

        var {foo} = {bar: 'baz'};
        console.log(foo);
        console.log(foo);
        
    </script>
</body>
</html>